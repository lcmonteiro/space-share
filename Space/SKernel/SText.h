/**
 * ------------------------------------------------------------------------------------------------
 * File:   SText.h
 * Author: Luis Monteiro
 *
 * Created on January 15, 2019, 20:23 PM
 * ------------------------------------------------------------------------------------------------
 */
#ifndef STEXT_H
#define STEXT_H
/**
 * std
 */
#include <string>
#include <sstream>
/**
 * ------------------------------------------------------------------------------------------------
 * Text
 * ------------------------------------------------------------------------------------------------
 */
class SText : public std::string {
public:
    using Super = std::string;
	/**
	 * --------------------------------------------------------------------
	 * Constructor
	 * --------------------------------------------------------------------
	 * Empty
     * ----------------------------------------------------
     */
    using Super::Super;
    /**
     * ----------------------------------------------------
	 * Native types
     * ----------------------------------------------------
	 */
    SText(int    v): std::string(_set(v)) {}
    SText(float  v): std::string(_set(v)) {}
    SText(double v): std::string(_set(v)) {}
    /**
     * ----------------------------------------------------
     * Mix Types
     * ----------------------------------------------------
     */
    template<typename T, typename... Ts>
    SText(T arg, Ts... args) {
        std::ostringstream result;
        result << arg;
        int steps[] = { 
            (result << args, 0)... 
        };
        assign(result.str());
    }
    /**
     * --------------------------------------------------------------------
     * Interfaces
     * --------------------------------------------------------------------
     * Get Native Types
     * ----------------------------------------------------
     */
    inline operator int()    { return _get<int>(*this);    }
    inline operator float()  { return _get<float>(*this);  }
    inline operator double() { return _get<double>(*this); }
protected:
    /**
     * --------------------------------------------------------------------
     * Converters
     * --------------------------------------------------------------------
     * Get
     * ----------------------------------------------------
     */
    template <class T>
    static inline T _get(std::string& s) {
        T val;
        std::istringstream(s) >> val;
        return val;
    }
    /**
     * ----------------------------------------------------
     * Set
     * ----------------------------------------------------
     */
    template <class T>
    static inline std::string  _set(T val) {
        std::ostringstream o;
        o << val;
        return o.str();
    }
};
/**
 * ------------------------------------------------------------------------------------------------
 *  End
 * ------------------------------------------------------------------------------------------------
 */
#endif /* STEXT_H */

